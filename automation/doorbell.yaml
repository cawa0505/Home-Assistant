#################################################################
## Doorbell Automations
#################################################################

        ##########################################################
        ## Front Door Motion
        ##########################################################

  #  - alias: 'Front Door Motion'
  #    initial_state: on
 #     trigger:
  #      platform: state
   #     entity_id: binary_sensor.front_door_camera__garden_activity
    #    from: 'off'
   #     to: 'on'
#
    #  condition:

    #     - condition: template
      #     value_template: "{{ as_timestamp(now()) - as_timestamp(binary_sensor.front_door.last_updated) > 180 }}"

    #     - condition: template
    #       value_template: "{{ as_timestamp(now()) - as_timestamp(states.group.household.last_updated) > 180 }}"

  #    action:
        #- service: tts.google_say
          #data:
          #  message: 'There is motion at the front door.'
         # entity_id: media_player.man_cave_home
      #  - service: notify.telegram_chris
       #   data:
       #     message: 'Motion detected at the front door'
      #  - service: camera.snapshot
        #  data:
        #    entity_id: camera.front_door
          #  filename: "/config/camera_snapshot/frontdoor.jpg"
    #    - delay:
      #      seconds: 90
       # - service: notify.telegram
      #    data:
       #     message: 'Motion detected at the front door'
       #     data:
       #       photo:
        #         - file: "/config/camera_snapshot/frontdoor.jpg"
        #           capture: "Snapshot"

        ##########################################################
        ## Turn On Outside Light when Motion Detected
        ##########################################################

    - alias: 'Front Door Motion - Turn On Outside Light'
      initial_state: on
      trigger:
        - platform: state
          entity_id: binary_sensor.front_door_camera__garden_activity
          from: 'off'
          to: 'on'

      condition:
        - condition: state
          entity_id: sun.sun
          state: 'below_horizon'

      action:
        - service: light.turn_on
          entity_id: light.outside
          data:
            brightness_pct: 100

        ##########################################################
        ## Turn Off Lights After Motion Detected
        ##########################################################

    - alias: 'Front Door Motion - Turn Off Lights'
      initial_state: on

      trigger:
        - platform: state
          entity_id: binary_sensor.front_door_camera__garden_activity
          from: 'on'
          to: 'off'
          for:
            hours: 0
            minutes: 5
            seconds: 0

      condition:
        - condition: state
          entity_id: sun.sun
          state: 'below_horizon'

      action:
        - service: light.turn_off
          entity_id:
            -  light.outside
